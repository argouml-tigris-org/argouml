<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- $Id$ -->

<!--

Description of all the artifacts associated with Collaboration Diagrams within
Argo/UML.

-->

<chapter id="ch.ref.entcollab">
  <title>Collaboration Diagram Artifact Reference</title>

  <sect1>
    <title>Introduction</title>

    <para>This chapter describes each artifact that can be created within a
      collaboration diagram. Note that some sub-artifacts of artifacts on the
      diagram may not actually themselves appear on the diagram.</para>

    <para>There is a close relationship between this material and the
      properties tab of the details pane (see
      <xref linkend="s1.ref.proptab"/>). That section covers Properties in
      general, in this chapter they are linked to specific artifacts.</para>

    <caution><para>Collaboration diagrams are not fully developed yet in
      &argouml;. Many aspects are not fully implemented, or may not behave as
      expected. In particular there are some serious problems with layout of
      the collaboration roles and messages.</para></caution>

    <!-- A diagram to show all things visible on the diagram -->

    <para><xref linkend="fig.ref.collaboration_diagram"/> shows a collaboration
      diagram with all possible artifacts displayed.</para>

    <!-- This picture should more or less correspond to the sequence diagram
         picture. -->

    <figure id="fig.ref.collaboration_diagram" float="1">
      <title>Possible artifacts on a collaboration diagram.</title>

      <screenshot><mediaobject>
        <imageobject>
          <imagedata format="GIF" align="center"
                     fileref="images/reference/collaboration_diagram.gif"/>
        </imageobject>
      </mediaobject></screenshot>
    </figure>

    <!-- Limitations in ArgoUML relating to support in general -->

    <sect2>
      <title>Limitations Concerning Collaboration Diagrams in &argouml;</title>

      <para>The collaboration diagram is still rather under-developed in
        &argouml;. In particular there is no way to show instance
        collaborations (based on objects and links) rather than specification
        collaborations.</para>

      <para>The biggest difficulties are with the messages. There are problems
        with the sequencing of the messages and their display on the
        diagram. The actions behind them are purely textual in implementation
        and there is no way to link them back to their associated operations or
        signals.</para>
    </sect2>
  </sect1>

  <!-- Artifacts specific to Collaboration Diagrams. Classifier Role artifact
    -->

  <sect1>
    <title>Classifier Role</title>

    <para>A classifier role is a specialization of a classifier, used to show
      its behavior in a particular context. In the UML metamodel
      <literal>Classifier Role</literal> is a sub-class of
      <literal>Classifier</literal>. Within a collaboration diagram classifier
      roles may be used in one of two ways:</para>

    <itemizedlist>
      <listitem><para>To represent the classifier in a particular
        behavioral context (the <emphasis>specification level</emphasis>);
        or</para></listitem>

      <listitem><para>to specify a particular instance of the classifier (the
        <emphasis>instance level</emphasis>).</para></listitem>
    </itemizedlist>

    <para>In this latter form, classifier roles are identical to the instances
      used in sequence diagrams (see <xref linkend="ch.ref.entseq"/>) and a
      collaboration diagram shows the same information as the sequence diagram,
      but in a different presentation.</para>

    <caution><para>A collaboration diagram should not mix classifier roles used
      as the specifier level and the instance level.</para></caution>

    <para>A classifier role is represented on a sequence diagram in &argouml;
      as a plain box labeled with the classifier role name (if any) and
      classifier, separated by a colon (:).</para>

    <caution><para>A classifier role should properly also show object name (if
      any) preceding the classifier role name and separated from it by a slash
      (<literal>/</literal>). This allows classifier roles in a specification
      level diagram to be distinguished from instances in an instance level
      diagram.</para>

    <para>This distinction is not implemented in the current release of
      &argouml;.</para></caution>

    <!-- Classifier Role details tabs -->

    <sect2>
      <title>Classifier Role Details Tabs</title>

      <para>The details tabs that are active for classifier roles are as
        follows.</para>

      <variablelist>

        <!-- Entry for ToDoItem tab -->

        <varlistentry>
          <term><literal>ToDoItem</literal></term>

          <listitem><para>Standard tab.</para></listitem>
        </varlistentry>

        <!-- Entry for Properties tab -->

        <varlistentry>
          <term><literal>Properties</literal></term>

          <listitem><para>See
            <xref linkend="s2.ref.classifier_role_property_toolbar"/> and
            <xref linkend="s2.ref.classifier_role_property_fields"/>
            below.</para></listitem>
        </varlistentry>

        <!-- Entry for Documentation tab -->

        <varlistentry>
          <term><literal>Documentation</literal></term>

          <listitem><para>Standard tab.</para></listitem>
        </varlistentry>

        <!-- Entry for Style tab -->

        <varlistentry>
          <term><literal>Style</literal></term>

          <listitem><para>Standard tab.</para></listitem>
        </varlistentry>

        <!-- Entry for Source tab -->

        <varlistentry>
          <term><literal>Source</literal></term>

          <listitem><para>Standard tab, but with no contents.</para>

            <caution><para>A classifier role should not generate any code,
              so having this tab active is probably a
              mistake.
              <!-- TODO: See enhancement issue ... -->
            </para></caution>
          </listitem>
        </varlistentry>

        <!-- Entry for Constraints tab -->

        <varlistentry>
          <term><literal>Constraints</literal></term>

          <listitem>
            <para>&constraintssupport;
</para>
          </listitem>
        </varlistentry>

        <!-- Entry for Tagged Values tab -->

        <varlistentry>
          <term><literal>Tagged Values</literal></term>

          <listitem><para>Standard tab. In the UML metamodel,
            <literal>Classifier Role</literal> has the following standard
            tagged values defined.</para>

            <itemizedlist>
              <listitem><para><literal>persistence</literal> (from the
                superclass, <literal>Classifier</literal>. Showing the
                permanence of the state information associated with the
                classifier role. Values <literal>transitory</literal>
                (state is destroyed when the classifier role is destroyed)
                and <literal>persistent</literal> (state is preserved when
                the classifier role is destroyed).</para></listitem>

              <listitem><para><literal>semantics</literal> (from the
                superclass, <literal>Classifier</literal>). The value is a
                specification of the semantics of the
                classifier role.</para></listitem>

              <listitem><para><literal>derived</literal> (from the
                superclass, <literal>ModelElement</literal>). Values
                <literal>true</literal>, meaning the classifier role is
                redundant&mdash;it can be formally derived from other
                elements, or <literal>false</literal> meaning it
                cannot.</para>

              <note><para>Derived classifier roles still have their value
                in analysis and design to introduce useful names or
                concepts, and in design to avoid
                re-computation.</para></note></listitem>
            </itemizedlist>

            <note><para>The UML <literal>Element</literal> metaclass from
              which all other artifacts are derived includes the tagged
              element <literal>documentation</literal> which is handled by
              the <emphasis>documentation tab</emphasis> under
              &argouml;</para></note></listitem>
        </varlistentry>
      </variablelist>
    </sect2>

    <!-- Classifier Role properties -->

    <sect2 id="s2.ref.classifier_role_property_toolbar">
      <title>Classifier Role Property Toolbar</title>

      <variablelist>

        <!-- Entry for Go up button -->

        <varlistentry>
          <term><guiicon><inlinemediaobject><imageobject><imagedata
            format="GIF" align="center"
            fileref="images/icons/navigate_up.gif"/>
          </imageobject></inlinemediaobject></guiicon> <literal>Go
            up</literal></term>

          <listitem><para>Navigate up through the package
            structure.</para></listitem>
        </varlistentry>

        <!-- Entry for Delete button -->

        <varlistentry>
          <term><guiicon><inlinemediaobject><imageobject><imagedata
            format="GIF" align="center"
            fileref="images/icons/property_delete.gif"/>
          </imageobject></inlinemediaobject></guiicon>
            <literal>Delete</literal></term>

          <listitem><para>This deletes the classifier role from the
          model</para>

          <warning><para>This is a deletion from the model
            <emphasis>not</emphasis> just the diagram. To delete an
            classifier role from the diagram, but keep it within the model, use
            the main menu <literal>Remove From Diagram</literal>
            (or press the Delete key).</para></warning></listitem>
        </varlistentry>
      </variablelist>
    </sect2>

    <!-- Fields in the properties tab -->

    <sect2 id="s2.ref.classifier_role_property_fields">
      <title>Property Fields For Classifier Role</title>

      <variablelist>

        <!-- Entry for Name -->

        <varlistentry>
          <term><literal>Name</literal></term>

          <listitem><para>Text box. The name of the classifier role. By
            convention classifier role names start with a lower case letter
            and use bumpy caps to divide words within the name.</para>

          <note><para>&argouml; does not enforce this naming
            convention. <!-- TODO: See enhancement issue ... -->
          </para></note>
          </listitem>
        </varlistentry>

        <!-- Entry for Stereotype -->

        <varlistentry>
          <term><literal>Stereotype</literal></term>

          <listitem>
            <para>Drop down selector. Classifier Role is
            provided by default with the UML standard stereotypes for
            a classifier (<literal>metaclass</literal>,
            <literal>powerType</literal>, <literal>process</literal>,
            <literal>thread</literal> and <literal>utility</literal>).
            </para>
          </listitem>
        </varlistentry>

        <!-- Entry for NavStereo -->

        <varlistentry>
          <term><literal>Navigate Stereotype</literal></term>

          <listitem><para><guiicon><inlinemediaobject><imageobject><imagedata
              format="GIF" align="center"
              fileref="images/icons/navigate_stereotype.gif"/>
            </imageobject></inlinemediaobject></guiicon> icon. If a
              stereotype has been selected, this will navigate to the
              stereotype property panel (see <xref
                linkend="s1.ref.stereotype"/>).</para></listitem>
        </varlistentry>

        <!-- Entry for Namespace -->

        <varlistentry>
          <term><literal>Namespace</literal></term>

          <listitem>
            <para>Text box. Records the namespace for the
              classifier role, which is always the containing Collaboration.
            </para>

            <para>&Button1; double click on the entry will navigate to the
              collaboration.
            </para>
          </listitem>
        </varlistentry>

        <!-- Entry for multiplicity -->

        <varlistentry>
          <term><literal>Multiplicity</literal></term>

          <listitem>
            <para>Drop down selector. The default value is 
              <literal>*</literal>, which means
              that there are any number of instances of this classifierrole 
              that play a role in the collaboration. The drop down provides
              some different multiplicities. E.g. <literal>1..1</literal> would
              mean that only one instance plays a role in this collaboration.
            </para>

          <caution><para>&argouml; restricts you to a number of predefined
            ranges for multiplicity. There is no way to give a user defined
            range: typing something different seems to work, 
            but the entered value is not remembered.
            <!-- TODO: See issue ... -->
          </para></caution></listitem>
        </varlistentry>

        <!-- Entry for Base -->

        <varlistentry>
          <term><literal>Base</literal></term>

          <listitem>
            <para>List. The names of the classifiers
              of which this is a classifierrole. &Button1; double click
              navigates to the classifier. &Button2; click gives a pop up menu
              with the following entries.
            </para>
            <itemizedlist>
              <listitem>
                <para><literal>Add</literal>. Allows adding or removeing 
                  classifiers to the list. To this end, a dialog box pops up, as
                  shown in the figure below.
                </para>
                
                <figure id="fig.ref.signal_add_classifierrole_base" float="1">
                  <title>The <quote>add context</quote> dialog box</title>
                  <screenshot><mediaobject><imageobject>
                    <imagedata format="PNG" align="center"
                       fileref="images/reference/signal_add_classifierrole_base.png"/>
                  </imageobject></mediaobject></screenshot>
                </figure>

              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>

        <!-- Entry for Generalizations -->

        <varlistentry>
          <term><literal>Generalizations</literal></term>

          <listitem><para>Text area. Lists any classifierrole that
            <emphasis>generalizes</emphasis> this classifierrole.</para>

            <para>&Button1; double click navigates to the generalization and opens
              its property tab.
            </para>

          </listitem>
        </varlistentry>

        <!-- Entry for Specializations -->

        <varlistentry>
          <term><literal>Specializations</literal></term>

          <listitem><para>Text box. Lists any specialized classifierrole (i.e. for
            which this classifierrole is a generalization.</para>

          <para>&button1; double click navigates to the generalization and opens
            its property tab.</para>

          </listitem>
        </varlistentry>

        <!-- Entry for Association End Role  -->

        <varlistentry>
          <term><literal>Association End Role</literal></term>

          <listitem>
            <para>Text area. Lists the association roles that are
              linked to this classifier role.
            </para>

            <para>&Button1; double click navigates to the selected entry.
            </para>

          </listitem>
        </varlistentry>

        <!-- Entry for Available Contents -->

        <varlistentry>
          <term><literal>Available Contents</literal></term>

          <listitem>
            <para>Text area. Lists the subset of modelelements contained 
              in the base classifier which is used in the collaboration.
            </para>

            <para>&Button1; double click navigates to the modelelement and opens
              its property tab.
            </para>
            
            <caution>
              <para>
                &argouml; V0.14 does not seem to provide a way to add anything 
                in the list here.
                <!-- TODO: See issue ... -->
              </para>
            </caution>

          </listitem>
        </varlistentry>

        <!-- Entry for Available Features -->

        <varlistentry>
          <term><literal>Available Features</literal></term>

          <listitem>
            <para>Text box. Lists the subset of features 
              of the base classifier which is used in the collaboration.
            </para>

            <para>&button1; double click navigates to the feature and opens
              its property tab.
            </para>
            
            <caution>
              <para>
                &argouml; V0.14 does not seem to provide a way to add anything 
                in the list here.
                <!-- TODO: See issue ... -->
              </para>
            </caution>

          </listitem>
        </varlistentry>

      </variablelist>
    </sect2>
  </sect1>

  <!-- Association Role artifact. Has Associate Role End and Message as
       sub-artifacts. -->

  <sect1 id="s1.ref.association_role">
    <title>Association Role</title>

    <para>An association role is a specialization of an association, used to
      describe an associations behavior in a particular context. In the UML
      metamodel <literal>Association Role</literal> is a sub-class of
      <literal>Association</literal>.</para>

    <para>An association role is represented on a collaboration diagram in &argouml;
      as a line connecting the instances concerned. However on a sequence
      diagram the representation is modified to reflect the type of action
      associated with the stimulus carried on the link (see <xref
      linkend="s1.ref.stimulus"/>).</para>

    <para>The association role is labeled with the association role name (if
      any).</para>

    <para>An association role shows its name and the association name 
      according the following syntax:
      <blockquote><para>/ AssociationRoleName : AssociationName</para></blockquote>
      in the same manner as
      a classifier role. The more generic syntax is:
      <blockquote><para>O / R : C</para></blockquote>
      which stands for an Instance named O 
      originating from the Classifier C
      playing the role R.
    </para>


    <!-- Association Role details tabs -->

    <sect2>
      <title>Association Role Details Tabs</title>

      <para>The details tabs that are active for association roles are as
        follows.</para>

      <variablelist>

        <!-- Entry for ToDoItem tab -->

        <varlistentry>
          <term><literal>ToDoItem</literal></term>

          <listitem><para>Standard tab.</para></listitem>
        </varlistentry>

        <!-- Entry for Properties tab -->

        <varlistentry>
          <term><literal>Properties</literal></term>

          <listitem><para>See <xref
              linkend="s2.ref.association_role_property_toolbar"/> and <xref
              linkend="s2.ref.association_role_property_fields"/>
            below.</para></listitem>
        </varlistentry>

        <!-- Entry for Documentation tab -->

        <varlistentry>
          <term><literal>Documentation</literal></term>

          <listitem><para>Standard tab.</para></listitem>
        </varlistentry>

        <!-- Entry for Style tab -->

        <varlistentry>
          <term><literal>Style</literal></term>

          <listitem><para>Standard tab. The values for the bounds of the
            association role notionally define the bounding box of the
            association role. However if you change them it will have no
            effect.</para></listitem>
        </varlistentry>

        <!-- Entry for Source tab -->

        <varlistentry>
          <term><literal>Source</literal></term>

          <listitem><para>Standard tab, but with no contents.</para>

          <caution><para>An association role should not generate any code,
            so having this tab active is probably a
            mistake.
            <!-- TODO: get rid of it. See issue ... -->
          </para></caution></listitem>
        </varlistentry>

        <!-- Entry for Constraints tab -->

        <varlistentry>
          <term><literal>Constraints</literal></term>

          <listitem>
            <para>&constraintssupport;
</para>
          </listitem>
        </varlistentry>

        <!-- Entry for Tagged Values tab -->

        <varlistentry>
          <term><literal>Tagged Values</literal></term>

          <listitem><para>Standard tab. In the UML metamodel,
            <literal>AssociationRole</literal> has the following standard
            tagged values defined.</para>

            <itemizedlist>
              <listitem><para><literal>persistence</literal> (from the
                superclass, <literal>Association</literal>). Values
                <literal>transitory</literal>, indicating state is
                destroyed when an instance is destroyed or
                <literal>persistent</literal>, marking state is preserved
                when an instance is destroyed.</para></listitem>

              <listitem><para><literal>derived</literal> (from the
                superclass, <literal>ModelElement</literal>). Values
                <literal>true</literal>, meaning the association is
                redundant&mdash;it can be formally derived from other
                elements, or <literal>false</literal> meaning it
                cannot.</para>

              <note><para>Derived association roles still have their value
                in analysis to introduce useful names or concepts, and in
                design to avoid re-computation.</para></note></listitem>
            </itemizedlist>

            <note><para>The UML <literal>Element</literal> metaclass from
              which all other artifacts are derived includes the tagged
              element <literal>documentation</literal> which is handled by
              the <emphasis>documentation tab</emphasis> under
              &argouml;</para></note></listitem>
        </varlistentry>
      </variablelist>
    </sect2>

    <!-- Association Role properties -->

    <sect2 id="s2.ref.association_role_property_toolbar">
      <title>Association Role Property Toolbar</title>

      <variablelist>

        <!-- Entry for Go up button -->

        <varlistentry>
          <term><guiicon><inlinemediaobject><imageobject><imagedata
            format="GIF" align="center"
            fileref="images/icons/navigate_up.gif"/>
          </imageobject></inlinemediaobject></guiicon> <literal>Go
            up</literal></term>

          <listitem><para>Navigate up through the package
            structure.</para></listitem>
        </varlistentry>


        <!-- Entry for Delete button -->

        <varlistentry>
          <term><guiicon><inlinemediaobject><imageobject><imagedata
            format="GIF" align="center"
            fileref="images/icons/property_delete.gif"/>
          </imageobject></inlinemediaobject></guiicon>
            <literal>Delete</literal></term>

          <listitem><para>This deletes the association role from the
            model</para>

          <warning><para>This is a deletion from the model
            <emphasis>not</emphasis> just the diagram. To delete an
            association role from the diagram, but keep it within the
            model, use the main menu <literal>Remove From
            Diagram</literal> (or press the Delete key).
            </para></warning></listitem>
        </varlistentry>
      </variablelist>
    </sect2>

    <!-- Fields in the properties tab -->

    <sect2 id="s2.ref.association_role_property_fields">
      <title>Property Fields For Association Role</title>

      <variablelist>

        <!-- Entry for Name -->

        <varlistentry>
          <term><literal>Name</literal></term>

          <listitem><para>Text box. The name of the association role. By
            convention association role names start with a lower case
            letter and use bumpy caps to divide words within the
            name.</para>

          <note><para>&argouml; does not enforce this naming
            convention.</para></note></listitem>
        </varlistentry>

        <!-- Entry for Stereotype -->

        <varlistentry>
          <term><literal>Stereotype</literal></term>

          <listitem><para>Drop down selector.  Association role is
            provided by default with the UML standard stereotype from the
            superclass Association: <literal>implicit</literal>.
            </para>
          </listitem>
        </varlistentry>

        <!-- Entry for NavStereo -->

        <varlistentry>
          <term><literal>Navigate Stereotype</literal></term>
          
          <!-- TODO: Weird enough, this is missing! See issue ... --> 
          <listitem><para><guiicon><inlinemediaobject><imageobject><imagedata
              format="GIF" align="center"
              fileref="images/icons/navigate_stereotype.gif"/>
            </imageobject></inlinemediaobject></guiicon> icon. If a
              stereotype has been selected, this will navigate to the
              stereotype property panel (see <xref
                linkend="s1.ref.stereotype_class"/>).
            </para>
            <caution>
              <para>
                This button is missing from the V0.14 implementation.
              </para>
            </caution>
          </listitem>
        </varlistentry>

        <!-- Entry for Namespace -->

        <varlistentry>
          <term><literal>Namespace</literal></term>

          <listitem><para>Text box. Records the namespace for the
            association role. This is the package hierarchy.</para>
            <!-- TODO: This is always the collaboration itself, isn't it? 
            Then why do we show it?  -->
          <para>&Button1; double click on the entry will navigate to the 
            item showm.</para></listitem>
        </varlistentry>

        <!-- Entry for Base -->

        <varlistentry>
          <term><literal>Base</literal></term>

          <listitem>
            <para>Drop down selector. Records the association that is the
              base for the association role. 
            </para>
            
            <para>The drop down selector shows all associations that exist 
              between the classifiers that correspond with the connected 
              classifier roles.
            </para>
          </listitem>
        </varlistentry>


        <!-- Entry for Association End Roles -->

        <varlistentry>
          <term><literal>Association End Roles</literal></term>

          <listitem><para>Text area. Lists the ends of this association
            role. An association role can have any number of ends, but two
            is generally the only useful number (link objects can led to a
            third end on instance level diagrams, but this is not supported
            by &argouml;). For more on association end roles see <xref
            linkend="s1.ref.association_end_role"/>.</para>

            <para>The names are listed, unless the association end role has
              no name, then it is shown as 
              <literal>(anon AssociationEndRole)</literal>.
            </para>

            <para>&Button1; double click on an association end role will navigate to
              that end. 
            </para>
          </listitem>
        </varlistentry>

        <!-- Entry for Messages -->

        <varlistentry>
          <term><literal>Messages</literal></term>

          <listitem><para>Text area. Lists the messages that are associated
            with this association role.</para>

          <para>&Button1; double click navigates to the selected entry
          </para>
          </listitem>
        </varlistentry>

      </variablelist>
    </sect2>
  </sect1>

  <!-- Association End Role artifact. A sub-artifact of Association Role. -->

  <sect1 id="s1.ref.association_end_role">
    <title>Association End Role</title>

    <para>An association end role is a specialization of an association end,
      used to describe an association end's behavior in a particular
      context. In the UML metamodel <literal>AssociationEndRole</literal> is a
      sub-class of <literal>AssociationEnd</literal>.</para>

    <para>Two or more association end roles are associated with each
      association role
      (see <xref linkend="s1.ref.association_role"/>), although for
      &argouml;, the number of ends can only be two.</para>

    <para>The association end role has no direct access on any diagram,
      although its stereotype, name and multiplicity is shown at the relevant
      end of the parent association role (see <xref
      linkend="fig.ref.collaboration_diagram"/>), and some of its properties can
      be directly adjusted with &button2; click.
      Where shared or composite
      aggregation is selected for one association end role, the opposite end is
      shown as a solid diamond (composite aggregation) or hollow diamond
      (shared aggregation).</para>

    <note><para>&argouml; does not currently (V0.14) support qualifiers, as described
      in the UML&nbsp;1.3 standard.
      <!-- TODO: See enhancement issue ... -->
    </para></note>

    <caution><para>An association end role should  have the same, or
      <quote>stricter</quote> attribute values than its base association
      end. In particular its navigability should be no more general. There is
      as yet no critic in &argouml; to offer advice on this
      rule.</para></caution>

    <!-- The details tabs -->

    <sect2>
      <title>Association End Role Details Tabs</title>

      <para>The details tabs that are active for association end roles are as
        follows.</para>

      <variablelist>

        <!-- Entry for ToDoItem tab -->

        <varlistentry>
          <term><literal>ToDoItem</literal></term>

          <listitem><para>Standard tab.</para></listitem>
        </varlistentry>

        <!-- Entry for Properties tab -->

        <varlistentry>
          <term><literal>Properties</literal></term>

          <listitem><para>See <xref
              linkend="s2.ref.association_end_role_property_toolbar"/> and
              <xref linkend="s2.ref.association_end_role_property_fields"/>
              below.</para></listitem>
        </varlistentry>

        <!-- Entry for Documentation tab -->

        <varlistentry>
          <term><literal>Documentation</literal></term>

          <listitem><para>Standard tab.</para></listitem>
        </varlistentry>

        <!-- Entry for Source tab -->

        <varlistentry>
          <term><literal>Source</literal></term>

          <listitem>
            <para>Standard tab. There is no code generated 
              for an association end role.
              <!-- TODO: So, let's get rid of it. See issue ... -->
            </para>
          </listitem>
        </varlistentry>

        <!-- Entry for Constraints tab -->

        <varlistentry>
          <term><literal>Constraints</literal></term>

          <listitem><para>&constraintssupport;
</para>
          </listitem>
        </varlistentry>

        <!-- Entry for Tagged Values tab -->

        <varlistentry>
          <term><literal>Tagged Values</literal></term>

          <listitem><para>Standard tab. In the UML metamodel,
            <literal>AssociationEndRole</literal> has the following standard
            tagged values defined.</para>

            <itemizedlist>
              <listitem><para><literal>derived</literal> (from the
                superclass, <literal>ModelElement</literal>). Values
                <literal>true</literal>, meaning the association end role is
                redundant&mdash;it can be formally derived from other
                elements, or <literal>false</literal> meaning it
                cannot.</para>

              <tip><para>Derived association end roles still have their value
                in analysis to introduce useful names or concepts, and in
                design to avoid re-computation. However the tag only makes
                sense for an association end role if it is also applied to the
                parent association role.</para></tip></listitem>
            </itemizedlist>

            <note><para>The UML <literal>Element</literal> metaclass from
              which all other artifacts are derived includes the tagged
              element <literal>documentation</literal> which is handled by
              the <emphasis>documentation tab</emphasis> under
              &argouml;</para></note></listitem>
        </varlistentry>
      </variablelist>
    </sect2>

    <!-- Association end role properties -->

    <sect2 id="s2.ref.association_end_role_property_toolbar">
      <title>Association End Role Property Toolbar</title>
      
      <!-- TODO: The prop pane says: AssociationEndRoleRole (sic). See issue ...
      -->
      <variablelist>

        <!-- Entry for Go up button -->

        <varlistentry>
          <term><guiicon><inlinemediaobject><imageobject><imagedata
            format="GIF" align="center"
            fileref="images/icons/navigate_up.gif"/>
          </imageobject></inlinemediaobject></guiicon> <literal>Go
            up</literal></term>

          <listitem><para>Navigate up to the association role to which this end
            role belongs.</para></listitem>
        </varlistentry>

        <!-- Entry for Go to other end role button -->

        <varlistentry>
          <term><guiicon><inlinemediaobject><imageobject><imagedata
            format="GIF" align="center"
            fileref="images/icons/association_end_role.gif"/>
          </imageobject></inlinemediaobject></guiicon> <literal>Go to other
            end</literal></term>

          <listitem><para>This navigates to the other end of the
            association role.</para></listitem>
        </varlistentry>
      </variablelist>
    </sect2>

    <!-- Fields in the properties tab -->

    <sect2 id="s2.ref.association_end_role_property_fields">
      <title>Property Fields For Association End Role</title>

      <variablelist>

        <!-- Entry for Name -->

        <varlistentry>
          <term><literal>Name</literal></term>

          <listitem><para>Text box. The name of the association end role, which
            provides a <emphasis>role name</emphasis> for this end of the
            association role. This role name can be used for navigation, and in
            an implementation context, provides a name by which the source end
            of an association role can reference the target end.</para>

          <note><para>&argouml; does not enforce any naming convention for
            association end roles.</para></note></listitem>
        </varlistentry>

        <!-- Entry for Stereotype -->

        <varlistentry>
          <term><literal>Stereotype</literal></term>

          <listitem><para>Drop down selector. Association end role is provided by
            default with the UML standard stereotypes for AssociationEndRole
            (<literal>association</literal>, <literal>global</literal>,
            <literal>local</literal>, <literal>parameter</literal>,
            <literal>self</literal>).
          </para></listitem>
        </varlistentry>

        <!-- Entry for NavStereo -->

        <varlistentry>
          <term><literal>Navigate Stereotype</literal></term>

          <listitem><para><guiicon><inlinemediaobject><imageobject><imagedata
              format="GIF" align="center"
              fileref="images/icons/navigate_stereotype.gif"/>
            </imageobject></inlinemediaobject></guiicon> icon. If a
              stereotype has been selected, this will navigate to the
              stereotype property panel (see <xref
                linkend="s1.ref.stereotype"/>).</para></listitem>
        </varlistentry>

        <!-- Entry for Base -->

        <varlistentry>
          <term><literal>Base</literal></term>

          <listitem>
            <para>Text field that shows the name of the 
              corresponding association end.
              &Button1; double click navigates to the association end.
            </para>
          </listitem>
        </varlistentry>

        <!-- Entry for AssociationRole -->

        <varlistentry>
          <term><literal>AssociationRole</literal></term>

          <listitem>
            <para>Text box. Records the parent association role for this
              association end role.
              &Button1; double click navigates to the association role.
            </para>
          </listitem>
        </varlistentry>

        <!-- Entry for Type -->

        <varlistentry>
          <term><literal>Type</literal></term>

          <listitem><para>Drop down selector providing access to all standard
            UML types provided by &argouml; and all new classes created
            within the current model.</para>
            <!-- TODO: Do we need this? Is the choice not really be far more
            limited? -->

          <para>This is the type of the entity attached to this end of the
            association role.</para></listitem>
        </varlistentry>

        <!-- Entry for Multiplicity -->

        <varlistentry>
          <term><literal>Multiplicity</literal></term>

          <listitem><para>Drop down text entry. Allows to alter the multiplicity of this
            association end role (with respect to the other end), i.e. how many
            instances of this end may be associated with an instance of the
            other end. The multiplicity is shown on the diagram at that end of
            the association role.</para></listitem>
        </varlistentry>

        <!-- Entry for Navigable -->

        <varlistentry>
          <term><literal>Navigable</literal></term>

          <listitem><para>Check box, with a single entry,
            <literal>navigable</literal>. Indicates that this end can be
            navigated to from the other end.</para>

          <note><para>The UML 1.3 standard provides a number of options for
            how navigation is displayed on an association end role. ArgoUML uses
            option 3, which means that arrow heads are shown at the end of
            an association role, when navigation is enabled at only one end, to
            indicate the direction in which navigation is possible. This
            means that the default, with both ends navigable has no
            arrows. This is an appropriate representation for use
            cases.</para></note></listitem>
        </varlistentry>

        <!-- All remaining Entries -->

        <varlistentry>
          <term><literal>All remaining properties</literal></term>

          <listitem><para>See 
              <xref linkend="s2.ref.association_end_property_fields"/>
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect2>
  </sect1>

  <!-- Message artifact. A sub-artifact of Association Role. -->

  <sect1>
    <title>Message</title>

    <para>A message is a communication between two instances of an association
      role on a specification level collaboration diagram. It describes an
      action which will generate the stimulus associated with the message. On a
      collaboration diagram a message is associated with an association
      role. In the UML metamodel <literal>Message</literal> is a sub-class of
      <literal>ModelElement</literal>.</para>

    <!-- TODO: We do not support these, so why talk about it? -->
    <!--note><para>On an instance level collaboration diagram, the stimuli between
      instances are shown on the links, rather than the messages that describe
      the communication channel.</para></note-->

    <para>The message is represented on a collaboration diagram in &argouml; 
      by its sequence number
      separated by a colon from the expression defining the associated
      <!-- TODO: Bug: the expression of the action is only updated on the 
      diagram when the name of the action (or message?) is altered. 
      See issue ...  -->
      action. It is accompagnied by an arrow pointing in the direction of the
      communication, i.e. the direction of the  AssociationRole. 
      By convention the name of a message is
      not shown on the diagram. Instead the diagram displays
      the message sequence number, either as an integer or as a decimal number
      to show hierarchy.
    </para>

    <!-- TODO: Is any of this true? It doesn't make sense to me... -->
    <!--caution><para>The message 
      should also be stereotyped to indicate whether the associated
      action is call, synchronous send, asynchronous send or return (usually
      just implied). The association role may be constrained as
      <literal>new</literal>, <literal>destroyed</literal> or
      <literal>transient</literal> if it is created, destroyed or both
      respectively during the interaction. However these are not shown as
      messages, since they are actions (create, terminate, destroy) of the
      associated classifier roles, not communications.</para></caution-->

    <warning><para>The current release of &argouml; does not retaining 
      message positioning after reloading the project, i.e. as if the positions
      were not stored in the project file.
      <!-- TODO: See issue ... -->
    </para></warning>

    <!-- Message details tabs -->

    <sect2>
      <title>Message Details Tabs</title>

      <para>The details tabs that are active for messages are as
        follows.</para>

      <variablelist>

        <!-- Entry for ToDoItem tab -->

        <varlistentry>
          <term><literal>ToDoItem</literal></term>

          <listitem><para>Standard tab.</para></listitem>
        </varlistentry>

        <!-- Entry for Properties tab -->

        <varlistentry>
          <term><literal>Properties</literal></term>

          <listitem><para>See <xref
              linkend="s2.ref.message_property_toolbar"/> and <xref
              linkend="s2.ref.message_property_fields"/>
            below.</para></listitem>
        </varlistentry>

        <!-- Entry for Documentation tab -->

        <varlistentry>
          <term><literal>Documentation</literal></term>

          <listitem><para>Standard tab.</para></listitem>
        </varlistentry>

        <!-- Entry for Style tab -->

        <varlistentry>
          <term><literal>Style</literal></term>

          <listitem><para>Standard tab. The values for the bounds of the
            message define the bounding box of the message. The
            <literal>Fill</literal> field defines the fill color of the
            arrow head, and the <literal>Line</literal> field defines the
            arrow line. Altering the <literal>Shadow</literal> field has no
            effect.</para>

          <caution><para>In the V0.14 release of &argouml; changing the
            position of the message by editing the
            values of the <literal>Bounds</literal> field is possible, but
            will make only a temporary change to the position of the
            message, as described above.</para></caution></listitem>
        </varlistentry>

        <!-- Entry for Source tab -->

        <varlistentry>
          <term><literal>Source</literal></term>

          <listitem><para>Standard tab, showing the message number and action
            expression separated by a colon (when UML 1.3 is selected in the
            drop-down).
            </para>

          <!-- TODO: Selecting "Java" in the drop-down causes an exception.
          java.lang.IllegalArgumentException: Unrecognized object null
          at org.argouml.model.ModelFacade.getScript(ModelFacade.java:1624)
          at org.argouml.language.java.generator.GeneratorJava.generateAction(GeneratorJava.java:1756)
          See issue ... -->
        
          <caution><para>A message probably should not generated any code
            of itself. That should be left to the action and possibly
            stimulus associated with it. In any case changes to this tab
            are ignored.</para></caution></listitem>
        </varlistentry>

        <!-- Entry for Constraints tab -->

        <varlistentry>
          <term><literal>Constraints</literal></term>

          <listitem>
            <para>&constraintssupport;
</para>
          </listitem>
        </varlistentry>

        <!-- Entry for Tagged Values tab -->

        <varlistentry>
          <term><literal>Tagged Values</literal></term>

          <listitem><para>Standard tab. In the UML metamodel,
            <literal>Message</literal> has the following standard
            tagged values defined.</para>

            <itemizedlist>
              <listitem><para><literal>derived</literal> (from the
                superclass, <literal>ModelElement</literal>). Values
                <literal>true</literal>, meaning the message is
                redundant&mdash;it can be formally derived from other
                elements, or <literal>false</literal> meaning it
                cannot.</para>

              <note><para>Derived messages still have their value in
                analysis and design to introduce useful names or concepts,
                and in design to avoid
                re-computation.</para></note></listitem>
            </itemizedlist>

            <note><para>The UML <literal>Element</literal> metaclass from
              which all other artifacts are derived includes the tagged
              element <literal>documentation</literal> which is handled by
              the <emphasis>documentation tab</emphasis> under
              &argouml;</para></note></listitem>
        </varlistentry>
      </variablelist>
    </sect2>

    <!-- Message properties -->

    <sect2 id="s2.ref.message_property_toolbar">
      <title>Message Property Toolbar</title>

      <variablelist>

        <!-- Entry for Go up button -->

        <varlistentry>
          <term><guiicon><inlinemediaobject><imageobject><imagedata
            format="GIF" align="center"
            fileref="images/icons/navigate_up.gif"/>
          </imageobject></inlinemediaobject></guiicon> <literal>Go
            up</literal></term>

          <listitem><para>Navigate up through the package
            structure.</para></listitem>
        </varlistentry>

        <!-- Entry for Delete button -->

        <varlistentry>
          <term><guiicon><inlinemediaobject><imageobject><imagedata
            format="GIF" align="center"
            fileref="images/icons/property_delete.gif"/>
          </imageobject></inlinemediaobject></guiicon>
            <literal>Delete</literal></term>

          <listitem><para>This deletes the message from the model</para>

          <warning><para>This is a deletion from the model
            <emphasis>not</emphasis> just the diagram. To delete an
            message from the diagram, but keep it within the model, use
            the main menu <literal>Remove From Diagram</literal>
            (or press the Delete key).
            <!-- TODO: After which it can not be added to the diagram any more.
            A message does not show "Add to diagram" in its explorer Button2 pop-up.
            See issue ... -->
          </para></warning></listitem>
        </varlistentry>
      </variablelist>
    </sect2>

    <!-- Fields in the properties tab -->

    <sect2 id="s2.ref.message_property_fields">
      <title>Property Fields For Message</title>

      <variablelist>

        <!-- Entry for Name -->

        <varlistentry>
          <term><literal>Name</literal></term>

        <listitem><para>Text box. The name of a message is usually its
          sequence number, either an integer, or a decimal (allowing
          alternative message hierarchies to be clearly
          described). &argouml; will supply an integer sequence number by
          default.</para></listitem>
        </varlistentry>

        <!-- Entry for Stereotype -->

        <varlistentry>
          <term><literal>Stereotype</literal></term>

          <listitem><para>Drop down selector. Message has no stereotypes by
            default in the UML standard.
            </para>

          </listitem>
        </varlistentry>

        <!-- Entry for NavStereo -->

        <varlistentry>
          <term><literal>Navigate Stereotype</literal></term>

          <listitem><para><guiicon><inlinemediaobject><imageobject><imagedata
              format="GIF" align="center"
              fileref="images/icons/navigate_stereotype.gif"/>
            </imageobject></inlinemediaobject></guiicon> icon. If a
              stereotype has been selected, this will navigate to the
              stereotype property panel (see <xref
                linkend="s1.ref.stereotype"/>).</para></listitem>
        </varlistentry>

        <!-- Entry for Interaction -->

        <varlistentry>
          <term><literal>Interaction</literal></term>

          <listitem><para>Text box. Records the Interaction of which the
            message is a part. </para>

          <para>&Button1; double click on the entry will navigate to the
            interaction.
          </para></listitem>
        </varlistentry>

        <!-- Entry for Sender -->

        <varlistentry>
          <term><literal>Sender</literal></term>

          <listitem><para>Text box. Identifies the classifier role which sent
            this message.</para>

            <para>&Button1; double click navigates to the sender classifier role.
            </para>
          </listitem>
        </varlistentry>

        <!-- Entry for Receiver -->

        <varlistentry>
          <term><literal>Receiver</literal></term>

          <listitem><para>Text box. Identifies the classifier role which
            receives this message.</para>

            <para>&Button1; click navigates to the receiver classifier role.
            </para>
          </listitem>
        </varlistentry>

        <!-- Entry for Activator -->

        <varlistentry>
          <term><literal>Activator</literal></term>

          <listitem><para>Drop down selector. 
            Identifies the message which invokes the
            behavior that causes the sending of this message.</para>

            <para>&Button1; click allows selecting the message.
            </para>
          </listitem>
        </varlistentry>

        <!-- Entry for Action -->

        <varlistentry>
          <term><literal>Action</literal></term>

          <listitem><para>Text box. Lists the action (see
            <xref linkend="s1.ref.action_state"/>) this message invokes to
            raise a stimulus.</para>

          <para>&Button1; double click navigates to the selected action, &button2;
            gives a pop up menu with the following entry.</para>

          <itemizedlist>
            <listitem>
              <para><literal>New</literal>. Add a new
                action.
              </para>

              <para>This item is downlighted if an action already exists.
              </para>
            </listitem>
          </itemizedlist></listitem>
        </varlistentry>

        <!-- Entry for Predecessors -->

        <varlistentry>
          <term><literal>Predecessors</literal></term>

          <listitem><para>Text area. Identifies the messages, the completion
            of whose execution enables this message.</para>

          <para>&Button1; double click navigates to the selected message,
            &button2; gives a pop up menu with one entry.</para>

          <itemizedlist>
            <listitem>
              <para><literal>Add</literal>. 
                Opens a dialog box that allows to select any number of messages.
                See figure below.
              </para>

              <figure id="fig.ref.message_add_predecessors" float="1">
                <title>The <quote>add predecessors</quote> dialog box</title>
                <screenshot><mediaobject><imageobject>
                  <imagedata format="PNG" align="center"
                     fileref="images/reference/message_add_predecessors.png"/>
                   </imageobject>
                 </mediaobject></screenshot>
               </figure>

            <para>This entry is grayed out 
              when no messages exist.</para>
            </listitem>
          </itemizedlist></listitem>
        </varlistentry>

      </variablelist>
    </sect2>
  </sect1>

</chapter>

<!-- Local stuff for Emacs - please do not delete

Local Variables:
mode: xml
sgml-doctype: "argomanual.xml"
sgml-parent-document: ("argomanual.xml" "chapter" nil)
sgml-validate-command: "nsgmls -wxml -sv ../docbook-setup/xml.dcl \
  argomanual.xml"
indent-tabs-mode: nil
End:

-->
